<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Modern PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="EVERNET">
  <link rel="apple-touch-icon" href="/icon-192.png?v=1.0.2">

  <!-- Updated Manifest with Cache Busting -->
  <link rel="manifest" href="/manifest.json?v=1.0.2">

  <!-- Theme Color for Different Browsers -->
  <meta name="theme-color" content="#0074E4" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#001f3f" media="(prefers-color-scheme: dark)">
  <meta name="msapplication-TileColor" content="#0074E4">

  <!-- Cache Control Headers -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta name="version" content="1.0.2">
  <meta name="build-date" content="2024-01-15">
  
  <title>EVERNET - Music Monetization for Creators</title>
  
  <!-- Favicon with Cache Busting -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=1.0.2">
  <link rel="apple-touch-icon" href="/icon-192.png?v=1.0.2">
  
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --navy: #001f3f;
      --dark-navy: #00152c;
      --electric-blue: #0066ff;
      --light-blue: #00a8ff;
      --white: #ffffff;
      --light: #f8fafc;
      --shadow: rgba(0, 31, 63, 0.1);
      --gradient: linear-gradient(135deg, var(--navy) 0%, var(--electric-blue) 100%);
      --gradient-hover: linear-gradient(135deg, var(--electric-blue) 0%, var(--light-blue) 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    body {
      background: var(--white);
      color: var(--navy);
      overflow-x: hidden;
      line-height: 1.7;
      /* PWA Fullscreen Support */
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    /* Enhanced Header Styles */
    header {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.08);
      padding: 15px 5%;
      position: sticky;
      top: 0;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-height: 70px;
      border-bottom: 1px solid rgba(0, 31, 63, 0.05);
      /* PWA Safe Area Support */
      padding-top: max(15px, env(safe-area-inset-top));
      padding-left: calc(5% + env(safe-area-inset-left));
      padding-right: calc(5% + env(safe-area-inset-right));
    }

    .brand {
      font-family: "Montserrat", sans-serif;
      font-size: clamp(1.4em, 5vw, 1.8em);
      font-weight: 900;
      color: var(--navy);
      letter-spacing: 1.5px;
      text-transform: uppercase;
      white-space: nowrap;
      background: linear-gradient(135deg, var(--electric-blue) 0%, var(--light-blue) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
    }

    .brand:hover {
      transform: translateY(-1px);
      filter: brightness(1.1);
    }

    .brand-icon {
      font-size: 1.2em;
    }

    .menu-icon {
      display: block;
      font-size: 1.4em;
      color: var(--navy);
      cursor: pointer;
      background: none;
      border: none;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.3s ease;
      z-index: 1001;
    }

    .menu-icon:hover {
      background: rgba(0, 102, 255, 0.1);
      color: var(--electric-blue);
      transform: scale(1.05);
    }

    .nav-links {
      display: none;
      flex-direction: column;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      position: fixed;
      top: 0;
      left: 0;
      width: 85%;
      height: 100vh;
      box-shadow: 10px 0 50px rgba(0, 0, 0, 0.1);
      padding: 80px 25px 40px;
      z-index: 999;
      gap: 0;
      border-right: 1px solid rgba(0, 31, 63, 0.05);
      /* PWA Safe Area Support */
      padding-top: calc(80px + env(safe-area-inset-top));
      padding-left: calc(25px + env(safe-area-inset-left));
    }

    .nav-links.show {
      display: flex;
      animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }

    @keyframes slideIn {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .nav-links a {
      text-decoration: none;
      color: var(--navy);
      font-weight: 500;
      font-size: 1.1em;
      transition: all 0.3s ease;
      padding: 18px 0;
      border-bottom: 1px solid rgba(0, 31, 63, 0.05);
      width: 100%;
      border-radius: 0;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .nav-links a i {
      width: 20px;
      text-align: center;
    }

    .nav-links a:hover {
      color: var(--electric-blue);
      background: rgba(0, 102, 255, 0.08);
      transform: translateX(5px);
    }

    .user-info {
      flex-direction: column;
      gap: 20px;
      margin: 30px 0 0 0;
      width: 100%;
      align-items: stretch;
      border-left: none;
      border-top: 1px solid rgba(0, 31, 63, 0.05);
      padding: 20px 0 0 0;
      display: none;
    }

    .user-email {
      font-size: 0.9em;
      color: var(--navy);
      background: rgba(0, 102, 255, 0.1);
      padding: 12px 16px;
      border-radius: 20px;
      text-align: center;
      font-weight: 500;
      word-break: break-all;
    }

    .logout-btn {
      background: linear-gradient(135deg, var(--electric-blue) 0%, var(--light-blue) 100%);
      color: var(--white);
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9em;
      transition: all 0.3s ease;
      width: 100%;
      box-shadow: 0 4px 15px rgba(0, 102, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .logout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
    }

    /* Close button for mobile menu */
    .close-menu {
      position: absolute;
      top: max(20px, env(safe-area-inset-top));
      right: 20px;
      background: none;
      border: none;
      font-size: 1.5em;
      color: var(--navy);
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .close-menu:hover {
      background: rgba(0, 102, 255, 0.1);
      color: var(--electric-blue);
    }

    /* Desktop Styles */
    @media (min-width: 768px) {
      header {
        padding: 12px 6%;
        min-height: 75px;
      }

      .brand {
        font-size: clamp(1.6em, 2.5vw, 2em);
        position: relative;
        left: 0;
        transform: none;
      }

      .menu-icon {
        display: none;
      }

      .nav-links {
        display: flex;
        flex-direction: row;
        background: transparent;
        backdrop-filter: none;
        position: static;
        width: auto;
        height: auto;
        box-shadow: none;
        padding: 0;
        gap: clamp(8px, 1.5vw, 20px);
        border: none;
      }

      .nav-links a {
        padding: 10px 16px;
        border-bottom: none;
        font-size: 0.95em;
        width: auto;
        border-radius: 8px;
        position: relative;
        overflow: hidden;
      }

      .nav-links a::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 2px;
        background: var(--electric-blue);
        transition: all 0.3s ease;
        transform: translateX(-50%);
      }

      .nav-links a:hover::before {
        width: 80%;
      }

      .nav-links a i {
        display: none;
      }

      .user-info {
        flex-direction: row;
        gap: 12px;
        margin: 0 0 0 15px;
        padding: 0 0 0 15px;
        border-left: 1px solid rgba(0, 31, 63, 0.1);
        border-top: none;
        padding-top: 0;
        width: auto;
        align-items: center;
      }

      .user-email {
        max-width: 180px;
        text-align: left;
        font-size: 0.85em;
      }

      .logout-btn {
        width: auto;
        padding: 10px 16px;
        font-size: 0.85em;
      }
    }

    /* Large Desktop */
    @media (min-width: 1200px) {
      header {
        padding: 15px 8%;
      }

      .nav-links {
        gap: 25px;
      }

      .nav-links a {
        font-size: 1em;
        padding: 12px 20px;
      }
    }

    /* Extra Small Devices */
    @media (max-width: 360px) {
      header {
        padding: 12px 4%;
      }

      .brand {
        font-size: 1.3em;
      }

      .nav-links {
        width: 90%;
      }
    }

    /* Animated Background */
    .animated-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, #001f3f 0%, #003366 50%, #001f3f 100%);
      overflow: hidden;
    }

    .floating-shapes {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .shape {
      position: absolute;
      background: rgba(0, 102, 255, 0.1);
      border-radius: 50%;
      animation: float 20s infinite linear;
    }

    .shape:nth-child(1) {
      width: 300px;
      height: 300px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
    }

    .shape:nth-child(2) {
      width: 200px;
      height: 200px;
      top: 60%;
      left: 80%;
      animation-delay: -5s;
    }

    .shape:nth-child(3) {
      width: 150px;
      height: 150px;
      top: 80%;
      left: 10%;
      animation-delay: -10s;
    }

    .shape:nth-child(4) {
      width: 250px;
      height: 250px;
      top: 20%;
      left: 70%;
      animation-delay: -15s;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.1;
      }
      25% {
        transform: translateY(-20px) rotate(90deg);
        opacity: 0.2;
      }
      50% {
        transform: translateY(0) rotate(180deg);
        opacity: 0.1;
      }
      75% {
        transform: translateY(20px) rotate(270deg);
        opacity: 0.2;
      }
    }

    .grid-lines {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(0, 102, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 102, 255, 0.05) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 20s linear infinite;
    }

    @keyframes gridMove {
      0% {
        transform: translate(0, 0);
      }
      100% {
        transform: translate(50px, 50px);
      }
    }

    /* Notification System */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      border-radius: 10px;
      color: white;
      font-weight: 500;
      z-index: 10000;
      transform: translateX(150%);
      transition: transform 0.3s ease;
      max-width: 300px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      font-size: 0.9em;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.success {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .notification.error {
      background: linear-gradient(135deg, #dc3545, #e83e8c);
    }

    .notification.info {
      background: linear-gradient(135deg, #17a2b8, #6f42c1);
    }

    /* Mobile Hero Section */
    .hero {
      text-align: center;
      padding: 80px 5%;
      position: relative;
      overflow: hidden;
      background: transparent;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 900px;
      margin: 0 auto;
    }

    .hero h1 {
      font-family: "Montserrat", sans-serif;
      font-size: 2.5em;
      color: var(--white);
      margin-bottom: 20px;
      line-height: 1.1;
      font-weight: 900;
      letter-spacing: -1px;
      text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      animation: fadeInUp 1s ease-out;
    }

    .hero p {
      max-width: 700px;
      margin: 0 auto 30px auto;
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.1em;
      padding: 0 10px;
      font-weight: 400;
      animation: fadeInUp 1s ease-out 0.2s both;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Stats Preview */
    .stats-preview {
      display: none;
      text-align: center;
      padding: 30px 20px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      margin: 30px auto;
      max-width: 500px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      animation: fadeInUp 1s ease-out 0.4s both;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-value {
      font-size: 1.5em;
      font-weight: bold;
      color: var(--white);
    }

    .stat-label {
      color: rgba(255, 255, 255, 0.8);
      margin-top: 5px;
      font-size: 0.9em;
    }

    /* Mobile Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 14px 24px;
      border-radius: 10px;
      font-weight: 600;
      text-decoration: none;
      margin: 8px 5px;
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      cursor: pointer;
      border: none;
      font-size: 0.95em;
      text-align: center;
      width: calc(100% - 10px);
      max-width: 280px;
      position: relative;
      overflow: hidden;
      animation: fadeInUp 1s ease-out 0.6s both;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.6s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn.main {
      background: linear-gradient(135deg, var(--electric-blue) 0%, var(--light-blue) 100%);
      color: var(--white);
      box-shadow: 0 8px 30px rgba(0, 102, 255, 0.3);
    }

    .btn.main:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 40px rgba(0, 102, 255, 0.4);
    }

    .btn.outline {
      border: 2px solid var(--white);
      color: var(--white);
      background: transparent;
      backdrop-filter: blur(10px);
    }

    .btn.outline:hover {
      background: var(--white);
      color: var(--navy);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);
    }

    .btn.success {
      background: linear-gradient(135deg, #28a745 0%, #218838 100%);
      color: white;
      box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);
    }

    .btn.success:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(40, 167, 69, 0.4);
    }

    .btn.learn-more {
      background: transparent;
      color: var(--white);
      border: 2px solid var(--white);
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .btn.learn-more::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 0%;
      height: 100%;
      background: var(--white);
      transition: all 0.4s ease;
      z-index: -1;
    }

    .btn.learn-more:hover {
      color: var(--navy);
    }

    .btn.learn-more:hover::before {
      width: 100%;
    }

    /* Mobile Sections */
    section {
      padding: 60px 5%;
      text-align: center;
      position: relative;
      background: var(--white);
    }

    .section-dark {
      background: linear-gradient(135deg, var(--navy) 0%, var(--dark-navy) 100%);
      color: var(--white);
    }

    h2 {
      font-family: "Montserrat", sans-serif;
      font-size: 2em;
      color: var(--navy);
      margin-bottom: 20px;
      font-weight: 800;
      letter-spacing: -0.5px;
    }

    .section-dark h2 {
      color: var(--white);
    }

    p.section-sub {
      color: #64748b;
      max-width: 700px;
      margin: 0 auto 40px auto;
      font-size: 1.1em;
      line-height: 1.6;
      font-weight: 400;
      padding: 0 10px;
    }

    .section-dark p.section-sub {
      color: rgba(255, 255, 255, 0.8);
    }

    /* Feature Cards */
    .features {
      display: flex;
      flex-direction: column;
      gap: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .feature-card {
      background: var(--white);
      border-radius: 15px;
      padding: 30px 20px;
      box-shadow: 0 10px 30px rgba(0, 31, 63, 0.08);
      transition: all 0.4s ease;
      border: 1px solid rgba(0, 31, 63, 0.05);
      position: relative;
      overflow: hidden;
      text-align: left;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--electric-blue), var(--light-blue));
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 31, 63, 0.15);
    }

    .feature-number {
      font-size: 3em;
      font-weight: 900;
      color: rgba(0, 102, 255, 0.1);
      position: absolute;
      top: 10px;
      right: 20px;
      line-height: 1;
    }

    .feature-card h3 {
      color: var(--electric-blue);
      margin-bottom: 15px;
      font-size: 1.5em;
      font-weight: 700;
      position: relative;
      display: inline-block;
      padding-right: 60px;
    }

    .feature-card h3::before {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 30px;
      height: 2px;
      background: var(--electric-blue);
    }

    .feature-card p {
      color: #4a5568;
      font-size: 1em;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .highlight {
      background: linear-gradient(135deg, var(--electric-blue) 0%, var(--light-blue) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 700;
    }

    /* Mobile Steps */
    .steps {
      display: flex;
      flex-direction: column;
      gap: 25px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .step {
      background: var(--white);
      border-radius: 15px;
      padding: 30px 20px;
      box-shadow: 0 10px 30px rgba(0, 31, 63, 0.08);
      transition: all 0.4s ease;
      border: 1px solid rgba(0, 31, 63, 0.05);
      position: relative;
      overflow: hidden;
      text-align: left;
    }

    .step::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--electric-blue), var(--light-blue));
    }

    .step:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 31, 63, 0.15);
    }

    .step-number {
      font-size: 2.5em;
      font-weight: 900;
      color: rgba(0, 102, 255, 0.1);
      position: absolute;
      top: 10px;
      right: 20px;
      line-height: 1;
    }

    .step h3 {
      color: var(--electric-blue);
      margin-bottom: 15px;
      font-size: 1.3em;
      font-weight: 700;
      position: relative;
      display: inline-block;
      padding-right: 60px;
    }

    .step h3::before {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 30px;
      height: 2px;
      background: var(--electric-blue);
    }

    .step p {
      color: #4a5568;
      font-size: 1em;
      line-height: 1.6;
    }

    /* Mobile Benefits */
    .benefits {
      background: linear-gradient(135deg, #f8fafc 0%, #e9eef6 100%);
      border-radius: 20px;
      padding: 40px 25px;
      margin: 0 auto;
      max-width: 800px;
      box-shadow: 0 15px 40px rgba(0, 31, 63, 0.08);
    }

    .benefits ul {
      list-style: none;
      text-align: left;
      color: #334155;
    }

    .benefits li {
      margin: 18px 0;
      padding-left: 35px;
      position: relative;
      font-size: 1em;
      line-height: 1.6;
    }

    .benefits li::before {
      content: "âœ“";
      position: absolute;
      left: 0;
      color: var(--electric-blue);
      font-weight: bold;
      font-size: 1.2em;
      width: 25px;
      height: 25px;
      background: rgba(0, 102, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Mobile Music Preview */
    .music-preview {
      background: var(--gradient);
      color: var(--white);
      padding: 60px 5%;
      position: relative;
      overflow: hidden;
    }

    .music-preview::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 30% 20%, rgba(0, 102, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 70% 80%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
    }

    .youtube-grid {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 40px;
      max-width: 1300px;
      margin-left: auto;
      margin-right: auto;
      position: relative;
      z-index: 2;
    }

    .youtube-player {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      transition: all 0.4s ease;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .youtube-player:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .youtube-iframe {
      width: 100%;
      height: 180px;
      border: none;
      display: block;
    }

    .music-info {
      padding: 20px;
      text-align: left;
    }

    .music-info h4 {
      color: var(--navy);
      margin-bottom: 8px;
      font-size: 1.1em;
      font-weight: 700;
    }

    .music-info p {
      color: #64748b;
      font-size: 0.9em;
      margin-bottom: 12px;
      line-height: 1.5;
    }

    .music-tag {
      background: linear-gradient(135deg, var(--electric-blue) 0%, var(--light-blue) 100%);
      color: var(--white);
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 0.75em;
      font-weight: 700;
      display: inline-block;
      box-shadow: 0 3px 10px rgba(0, 102, 255, 0.3);
    }

    /* Mobile Testimonials */
    .testimonial-container {
      display: flex;
      flex-direction: column;
      gap: 25px;
      margin-top: 40px;
      max-width: 1300px;
      margin-left: auto;
      margin-right: auto;
    }

    .testimonial {
      background: var(--white);
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0, 31, 63, 0.08);
      transition: all 0.4s ease;
      border: 1px solid rgba(0, 31, 63, 0.05);
      position: relative;
    }

    .testimonial::before {
      content: '"';
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 3em;
      color: rgba(0, 102, 255, 0.1);
      font-family: serif;
      line-height: 1;
    }

    .testimonial:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 31, 63, 0.15);
    }

    .testimonial img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin-bottom: 15px;
      border: 3px solid var(--electric-blue);
      object-fit: cover;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .testimonial p {
      color: #4a5568;
      font-style: italic;
      margin-bottom: 15px;
      font-size: 0.95em;
      line-height: 1.6;
    }

    .testimonial h4 {
      color: var(--navy);
      font-weight: 700;
      font-size: 1em;
    }

    .creator-role {
      color: var(--electric-blue);
      font-weight: 600;
      font-size: 0.9em;
      margin-top: 5px;
    }

    /* Mobile Footer */
    footer {
      text-align: center;
      background: var(--dark-navy);
      color: var(--white);
      padding: 40px 20px 30px;
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--electric-blue), transparent);
    }

    footer p {
      margin: 12px 0;
      font-size: 0.9em;
      color: rgba(255, 255, 255, 0.8);
    }

    footer a {
      color: var(--light-blue);
      text-decoration: none;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    footer a:hover {
      color: var(--white);
      text-decoration: underline;
    }

    /* Desktop Styles for other sections */
    @media (min-width: 768px) {
      .hero {
        padding: clamp(100px, 15vw, 150px) 5%;
      }

      .hero h1 {
        font-size: clamp(2.5em, 7vw, 4.5em);
      }

      .hero p {
        font-size: clamp(1.1em, 2.5vw, 1.4em);
        margin-bottom: 40px;
      }

      .btn {
        width: auto;
        min-width: 160px;
        margin: 10px;
      }

      section {
        padding: clamp(80px, 12vw, 120px) 6%;
      }

      h2 {
        font-size: clamp(2em, 5vw, 3.2em);
      }

      .features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 40px;
      }

      .feature-card {
        padding: 40px 30px;
      }

      .feature-card:hover {
        transform: translateY(-10px);
      }

      .steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 40px;
      }

      .step {
        padding: 40px 30px;
      }

      .step:hover {
        transform: translateY(-10px);
      }

      .benefits {
        padding: 60px;
        border-radius: 30px;
      }

      .benefits li {
        font-size: 1.1em;
      }

      .youtube-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 30px;
      }

      .youtube-iframe {
        height: 200px;
      }

      .youtube-player:hover {
        transform: translateY(-8px) scale(1.02);
      }

      .testimonial-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
      }

      .testimonial:hover {
        transform: translateY(-8px);
      }

      footer {
        padding: 60px 20px 40px;
      }
    }

    /* Large Desktop */
    @media (min-width: 1200px) {
      .container {
        max-width: 1400px;
        margin: 0 auto;
      }
    }
  </style>
</head>

<body>
  <!-- Main Content -->
  <div id="main-content">
    <!-- Animated Background -->
    <div class="animated-bg">
      <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
      </div>
      <div class="grid-lines"></div>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification"></div>

    <!-- Enhanced Mobile-First Header -->
    <header>
      <button class="menu-icon" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
      <a href="/" class="brand">
        EVERNET
      </a>
      <nav>
        <div class="nav-links" id="navMenu">
          <button class="close-menu" onclick="closeMenu()"><i class="fas fa-times"></i></button>
          <a href="/" onclick="closeMenu()"><i class="fas fa-home"></i>Home</a>
          <a href="/about/" onclick="closeMenu()"><i class="fas fa-info-circle"></i>About</a>
          <a href="/music/" onclick="closeMenu()"><i class="fas fa-music"></i>Music Library</a>
          <a href="/sign-in/" id="loginLink"><i class="fas fa-sign-in-alt"></i>Login</a>
          <a href="/sign-up/" id="signupLink"><i class="fas fa-user-plus"></i>Creator Signup</a>
          <a href="#contact" onclick="closeMenu()"><i class="fas fa-envelope"></i>Contact</a>
          <div class="user-info" id="userInfo" style="display: none;">
            <span class="user-email" id="userEmail"></span>
            <button class="logout-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i>Logout</button>
          </div>
        </div>
      </nav>
    </header>

    <!-- Mobile Hero Section -->
    <section class="hero">
      <div class="hero-content">
        <h1>Turn Every View Into Revenue</h1>
        <p>EVERNET transforms your YouTube Shorts into revenue-earning assets with exclusive music and video content. No copyright issues. No demonetization. Just clean earnings on every view.</p>
        <div id="heroButtons">
          <a href="/sign-up/" class="btn main">Start Earning Today</a>
          <a href="/learn-more/" class="btn learn-more">Discover How It Works</a>
        </div>
        
        <!-- Stats Preview for Logged-in Users -->
        <div class="stats-preview" id="statsPreview">
          <h3>Your Current Stats</h3>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value" id="previewTotalViews">0</div>
              <div class="stat-label">Total Views</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="previewRevenue">â‚¬0</div>
              <div class="stat-label">Revenue</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="previewStatus">Active</div>
              <div class="stat-label">Status</div>
            </div>
          </div>
        </div>
        
        <div id="dashboardButton" style="display: none; margin-top: 30px;">
          <a href="/dashboard/" class="btn success">Go to Dashboard</a>
          <a href="/admin/" class="btn main" id="adminButton" style="display: none;">Admin Portal</a>
        </div>
      </div>
    </section>

    <!-- What is EVERNET -->
    <section id="what-is">
      <h2>What is EVERNET?</h2>
      <p class="section-sub">The next era of music monetization for creators</p>
      <div class="features">
        <div class="feature-card">
          <div class="feature-number">01</div>
          <h3>What is EVERNET?</h3>
          <p>Turn every YouTube Short into a revenue-earning asset. EVERNET gives you exclusive access to music we fully own and control â€” and we split the revenue with you. No copyright issues. No demonetization. Just clean earnings on every view.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-number">02</div>
          <h3>Highest Payouts in the Industry</h3>
          <p>We don't take big cuts â€” we pay big cuts. EVERNET is built to maximize creator income, not drain it. Our distribution fees are among the lowest in the market, allowing creators to earn more, faster, and without hidden deductions.</p>
          <p class="highlight">Earn on top of YouTube Partner Program (YPP) revenue. Thousands of creators are already winning. You're next.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-number">03</div>
          <h3>Premium Music Library</h3>
          <p>Music that transforms your content into an experience. Emotion drives engagement â€” and music drives emotion. EVERNET offers a growing library of professional, royalty-free tracks across 20+ categories, ready to sync with any style of video you create.</p>
          <p class="highlight">Choose it. Use it. Earn from it.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-number">04</div>
          <h3>Exclusive Video Content Access</h3>
          <p>Not stock footage. Not pirated clips. Fully licensed production-grade visuals. EVERNET members get access to officially cleared video assets â€” including OTT originals, dramas, TV shows, and cinematic content legally approved for remixing, editing, and upload.</p>
          <p class="highlight">No copyright strikes. No takedowns. Just safe, powerful storytelling. And yes â€” the library updates constantly.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-number">05</div>
          <h3>Free Custom Music Creation</h3>
          <p>Need a theme song, intro score, or emotional track that doesn't exist yet? We'll make it. EVERNET produces custom music on request â€” composed, mixed, mastered, and released under our catalog â€” free for active users.</p>
          <p class="highlight">Your content gets its own soundtrack. We handle the copyright, the backend, and the revenue split.</p>
        </div>
      </div>
    </section>

    <!-- How EVERNET Works -->
    <section id="how" class="section-dark">
      <h2>How EVERNET Works</h2>
      <p class="section-sub">Simple steps to start earning from your content</p>
      <div class="steps">
        <div class="step">
          <div class="step-number">01</div>
          <h3>Register Your Channel with EVERNET</h3>
          <p>Sign up in minutes and connect your YouTube channel to start monetizing your content with our premium music library.</p>
        </div>
        <div class="step">
          <div class="step-number">02</div>
          <h3>Add EVERNET Music</h3>
          <p>Select a track from our premium library and use it in your Shorts or videos. Our system automatically tracks your usage.</p>
        </div>
        <div class="step">
          <div class="step-number">03</div>
          <h3>Track Your Earnings</h3>
          <p>View performance and revenue from Day 2 onwards. Watch your earnings grow as your content gains views across platforms.</p>
        </div>
      </div>
    </section>

    <!-- Mobile Music Preview -->
    <section id="music" class="music-preview">
      <h2 style="color: var(--white);">Premium Music Library</h2>
      <p class="section-sub" style="color: rgba(255,255,255,0.8);">Discover our hand-curated collection of premium tracks designed for creator content</p>
      
      <div class="youtube-grid">
        <!-- YouTube Music Player 1 -->
        <div class="youtube-player">
          <iframe class="youtube-iframe" src="https://www.youtube.com/embed/OLdSCh5pgDg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          <div class="music-info">
            <h4>Morning Calm</h4>
            <p>Gentle, uplifting beats to start your creative day with peace and inspiration</p>
            <span class="music-tag">Calm Beats</span>
          </div>
        </div>
        
        <!-- YouTube Music Player 2 -->
        <div class="youtube-player">
          <iframe class="youtube-iframe" src="https://www.youtube.com/embed/a2KfDkROnMg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          <div class="music-info">
            <h4>Study Focus</h4>
            <p>Deep concentration beats designed for productive work sessions and focused content</p>
            <span class="music-tag">Calm Beats</span>
          </div>
        </div>
        
        <!-- YouTube Music Player 3 -->
        <div class="youtube-player">
          <iframe class="youtube-iframe" src="https://www.youtube.com/embed/aZ33doLbWXk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          <div class="music-info">
            <h4>Urban Chill</h4>
            <p>Relaxed city vibes perfect for urban content, vlogs, and modern lifestyle creators</p>
            <span class="music-tag">Calm Beats</span>
          </div>
        </div>
      </div>
      
      <div style="margin-top: 40px;">
        <a href="/sign-up/" class="btn main">Access Full Premium Library</a>
      </div>
    </section>

    <!-- Mobile Testimonials -->
    <section id="testimonials">
      <h2>Creator Success Stories</h2>
      <p class="section-sub">Hear from creators who transformed their content and income with EVERNET</p>
      
      <div class="testimonial-container">
        <div class="testimonial">
          <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80" alt="Sarah Chen">
          <p>"I was skeptical at first, but after 3 months with EVERNET, I'm consistently earning average of $540 monthly from my travel vlogs. The music perfectly complements my content and the dashboard transparency is unmatched. It's like having a passive income stream I never knew was possible."</p>
          <h4>Sarah Chen</h4>
          <div class="creator-role">Travel Content Creator â€¢ 45K subscribers</div>
        </div>

        <div class="testimonial">
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80" alt="Marcus Johnson">
          <p>"As a cooking channel creator, finding the right background music was always challenging. EVERNET's library has elevated my content quality, and the additional $150+ monthly is a game-changer. The best part? No more copyright claims disrupting my monetization."</p>
          <h4>Marcus Johnson</h4>
          <div class="creator-role">Food Content Creator â€¢ 82K subscribers</div>
        </div>

        <div class="testimonial">
          <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80" alt="Priya Patel">
          <p>"The 90-day wait for the first payment was absolutely worth it. Now I receive consistent monthly deposits that have become a significant part of my income. The platform's professionalism and support are exceptional. It's refreshing to work with a company that truly values creators."</p>
          <h4>Priya Patel</h4>
          <div class="creator-role">Wellness Creator â€¢ 28K subscribers</div>
        </div>
      </div>
    </section>

    <!-- Mobile Footer -->
    <footer id="contact">
      <p>Contact our dedicated support team: <a href="mailto:support@evergreenempireltd.com">support@evergreenempireltd.com</a></p>
      <p>
        <a href="/terms-of-service/">Terms & Conditions</a> | 
        <a href="/privacy-policy/">Privacy Policy</a> | 
        <a href="/creator-agreement/">Creator Agreement</a>
      </p>
      <p>Â©2025 EverGreen Empire Ltd.</p>
    </footer>
  </div>

  <!-- Firebase Configuration -->
  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyAuSEqhLenwrEz-qrIn1drjAugy1YSkDlI",
      authDomain: "creators-portal-428c5.firebaseapp.com",
      projectId: "creators-portal-428c5",
      storageBucket: "creators-portal-428c5.firebasestorage.app",
      messagingSenderId: "499280036303",
      appId: "1:499280036303:web:b4d80d3b7fe1291381d2ba",
      measurementId: "G-CYWGD80FS5"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>

  <!-- ==================== -->
  <!-- EVERNET CACHE SYSTEM -->
  <!-- ==================== -->
  <script>
    // EVERNET Advanced Cache Manager v1.0.2
    class EverNetCacheManager {
      constructor() {
        this.currentVersion = '1.0.2';
        this.storageKey = 'evernet-cache-version';
        this.lastUpdateKey = 'evernet-last-update';
        this.updateInterval = 1 * 60 * 60 * 1000; // 1 hour check
        this.init();
      }
      
      async init() {
        console.log(`ðŸš€ EVERNET Cache Manager v${this.currentVersion} initialized`);
        await this.checkForUpdates();
        this.setupAutoUpdate();
        this.addVersionToResources();
        this.setupServiceWorkerMessaging();
      }
      
      async checkForUpdates() {
        const storedVersion = localStorage.getItem(this.storageKey);
        const lastUpdate = localStorage.getItem(this.lastUpdateKey);
        const now = Date.now();
        
        // Force update if more than 24 hours passed
        const shouldForceUpdate = lastUpdate && (now - parseInt(lastUpdate)) > 24 * 60 * 60 * 1000;
        
        if (storedVersion !== this.currentVersion || shouldForceUpdate) {
          console.log(`ðŸ”„ EVERNET: Update detected (${storedVersion} â†’ ${this.currentVersion})`);
          await this.performUpdate();
        } else {
          console.log(`âœ… EVERNET: Running latest version (${this.currentVersion})`);
        }
      }
      
      async performUpdate() {
        // Show update notification
        this.showUpdateNotification();
        
        // Clear all caches
        await this.clearAllCaches();
        
        // Update version info
        localStorage.setItem(this.storageKey, this.currentVersion);
        localStorage.setItem(this.lastUpdateKey, Date.now().toString());
        
        // Force service worker update
        await this.updateServiceWorker();
        
        // Reload if online
        if (navigator.onLine) {
          setTimeout(() => {
            window.location.reload();
          }, 1500);
        }
      }
      
      async clearAllCaches() {
        try {
          console.log('ðŸ—‘ï¸ EVERNET: Clearing all caches...');
          
          // Clear service worker caches
          if ('caches' in window) {
            const cacheNames = await caches.keys();
            await Promise.all(
              cacheNames.map(cacheName => {
                console.log(`ðŸ—‘ï¸ Deleting cache: ${cacheName}`);
                return caches.delete(cacheName);
              })
            );
          }
          
          // Clear localStorage (keep auth data)
          this.clearLocalStorage();
          
          // Clear sessionStorage
          sessionStorage.clear();
          
          console.log('âœ… EVERNET: All caches cleared');
          
        } catch (error) {
          console.error('âŒ EVERNET: Error clearing caches', error);
        }
      }
      
      clearLocalStorage() {
        const keepKeys = [
          'firebase:authUser:',
          'evernet-cache-version',
          'evernet-last-update',
          'user-preference-'
        ];
        
        Object.keys(localStorage).forEach(key => {
          const shouldKeep = keepKeys.some(keepKey => key.startsWith(keepKey));
          if (!shouldKeep) {
            localStorage.removeItem(key);
          }
        });
      }
      
      async updateServiceWorker() {
        if ('serviceWorker' in navigator) {
          const registration = await navigator.serviceWorker.ready;
          
          // Send skip waiting message
          if (registration.waiting) {
            registration.waiting.postMessage({ type: 'SKIP_WAITING' });
          }
          
          // Force update
          await registration.update();
        }
      }
      
      setupAutoUpdate() {
        // Check for updates periodically
        setInterval(() => {
          this.checkForUpdates();
        }, this.updateInterval);
        
        // Check when coming online
        window.addEventListener('online', () => {
          this.checkForUpdates();
        });
      }
      
      addVersionToResources() {
        const version = this.currentVersion;
        
        // Add version to local CSS
        const localLinks = document.querySelectorAll('link[rel="stylesheet"]');
        localLinks.forEach(link => {
          const href = link.getAttribute('href');
          if (href && !href.includes('?') && !href.startsWith('http')) {
            link.href = `${href}?v=${version}`;
          }
        });
        
        // Add version to local scripts
        const localScripts = document.querySelectorAll('script[src]');
        localScripts.forEach(script => {
          const src = script.getAttribute('src');
          if (src && !src.includes('?') && !src.startsWith('http')) {
            script.src = `${src}?v=${version}`;
          }
        });
      }
      
      setupServiceWorkerMessaging() {
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.addEventListener('message', (event) => {
            const { type, data } = event.data;
            
            switch (type) {
              case 'UPDATE_AVAILABLE':
                this.showUpdateNotification('New update available! Refreshing...');
                setTimeout(() => {
                  window.location.reload();
                }, 2000);
                break;
                
              case 'BACKGROUND_SYNC_COMPLETE':
                console.log('Background sync completed:', data);
                break;
            }
          });
        }
      }
      
      showUpdateNotification(message = 'EVERNET Updated! Refreshing for latest features...') {
        const notification = document.createElement('div');
        notification.innerHTML = `
          <div style="
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0074E4, #00a8ff);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            z-index: 10001;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            font-family: 'Poppins', sans-serif;
          ">
            <i class="fas fa-sync-alt" style="margin-right: 8px;"></i>
            ${message}
          </div>
        `;
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.remove();
        }, 5000);
      }
      
      // Public method to force cache clear
      async forceClearCache() {
        console.log('ðŸ”„ EVERNET: Manual cache clearance triggered');
        await this.clearAllCaches();
        localStorage.setItem(this.storageKey, '');
        this.showUpdateNotification('Cache cleared! Refreshing...');
        setTimeout(() => {
          window.location.reload();
        }, 1000);
      }
    }

    // Initialize cache manager
    const everNetCache = new EverNetCacheManager();

    // Make it globally available
    window.evernetClearCache = () => everNetCache.forceClearCache();
    window.evernetVersion = everNetCache.currentVersion;
  </script>

  <!-- Service Worker Registration -->
  <script>
    // Register Service Worker with version-based cache busting
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        const version = '1.0.2';
        navigator.serviceWorker.register('/sw.js?v=' + version)
          .then(function(registration) {
            console.log('ðŸŽ‰ EVERNET ServiceWorker registered successfully with scope: ', registration.scope);
            
            // Check for updates every hour
            setInterval(() => {
              registration.update();
              console.log('ðŸ”„ EVERNET: Checking for Service Worker updates...');
            }, 60 * 60 * 1000);
            
            // Check if PWA is already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
              console.log('ðŸš€ EVERNET is running as PWA');
            }
          })
          .catch(function(error) {
            console.log('âŒ EVERNET ServiceWorker registration failed: ', error);
          });
      });
    } else {
      console.log('âŒ Service workers are not supported in this browser');
    }
  </script>

  <!-- PWA Install Prompt Handler -->
  <script>
    // PWA Install Prompt
    let deferredPrompt;
    let installButton;

    window.addEventListener('beforeinstallprompt', (e) => {
      console.log('ðŸ“± PWA Install Prompt triggered');
      // Prevent the mini-infobar from appearing on mobile
      e.preventDefault();
      // Stash the event so it can be triggered later
      deferredPrompt = e;
      
      // Show install button
      showInstallPromo();
    });

    function showInstallPromo() {
      // Check if we're not already in standalone mode
      if (!window.matchMedia('(display-mode: standalone)').matches) {
        installButton = document.createElement('button');
        installButton.innerHTML = 'ðŸ“± Install EVERNET App';
        installButton.style.cssText = `
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: linear-gradient(135deg, #0074E4, #00a8ff);
          color: white;
          border: none;
          padding: 12px 20px;
          border-radius: 25px;
          font-weight: bold;
          cursor: pointer;
          z-index: 10000;
          box-shadow: 0 4px 15px rgba(0, 116, 228, 0.3);
          font-size: 14px;
          transition: all 0.3s ease;
        `;
        installButton.onclick = installPWA;
        installButton.onmouseenter = () => installButton.style.transform = 'scale(1.05)';
        installButton.onmouseleave = () => installButton.style.transform = 'scale(1)';
        document.body.appendChild(installButton);
        
        console.log('ðŸ“± Install button added to page');
      }
    }

    async function installPWA() {
      if (deferredPrompt) {
        console.log('ðŸ“± Installing EVERNET PWA...');
        // Show the install prompt
        deferredPrompt.prompt();
        
        // Wait for the user to respond to the prompt
        const { outcome } = await deferredPrompt.userChoice;
        
        console.log(`ðŸ“± User response: ${outcome}`);
        
        if (outcome === 'accepted') {
          console.log('âœ… EVERNET PWA installed successfully!');
          if (installButton) {
            installButton.remove();
          }
        }
        
        // Clear the saved prompt since it can't be used again
        deferredPrompt = null;
      }
    }

    window.addEventListener('appinstalled', (evt) => {
      console.log('EVERNET was successfully installed as PWA!');
      if (installButton) {
        installButton.remove();
      }
    });

    // Check if already installed
    if (window.matchMedia('(display-mode: standalone)').matches) {
      console.log(' EVERNET is running as installed PWA');
    }
  </script>

  <script>
    // Enhanced Notification System
    function showNotification(message, type = 'info') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification ${type} show`;
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 5000);
    }

    // Enhanced Mobile Menu Functions
    function toggleMenu() {
      const nav = document.getElementById('navMenu');
      nav.classList.toggle('show');
    }

    function closeMenu() {
      const nav = document.getElementById('navMenu');
      nav.classList.remove('show');
    }

    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      const nav = document.getElementById('navMenu');
      const menuIcon = document.querySelector('.menu-icon');
      
      if (!nav.contains(event.target) && !menuIcon.contains(event.target) && nav.classList.contains('show')) {
        closeMenu();
      }
    });

    // Enhanced UI Update
    async function updateUI() {
      const user = auth.currentUser;
      const loginLink = document.getElementById('loginLink');
      const signupLink = document.getElementById('signupLink');
      const userInfo = document.getElementById('userInfo');
      const userEmail = document.getElementById('userEmail');
      const dashboardButton = document.getElementById('dashboardButton');
      const statsPreview = document.getElementById('statsPreview');
      const adminButton = document.getElementById('adminButton');

      if (user) {
        // User is logged in
        loginLink.style.display = 'none';
        signupLink.style.display = 'none';
        userInfo.style.display = 'flex';
        userEmail.textContent = user.email;
        dashboardButton.style.display = 'block';
        statsPreview.style.display = 'block';

        // Show admin button if user is admin
        if (user.email.includes('@evergreenempireltd.com') || user.email === 'admin@evergreenempireltd.com') {
          adminButton.style.display = 'inline-block';
        }

        // Load user stats for preview
        await loadUserStats(user.uid);
      } else {
        // User is not logged in
        loginLink.style.display = 'block';
        signupLink.style.display = 'block';
        userInfo.style.display = 'none';
        dashboardButton.style.display = 'none';
        statsPreview.style.display = 'none';
        adminButton.style.display = 'none';
      }
    }

    // Enhanced User Stats Loading
    async function loadUserStats(userId) {
      try {
        const statsDoc = await db.collection('userStats').doc(userId).get();
        
        if (statsDoc.exists) {
          const stats = statsDoc.data();
          document.getElementById('previewTotalViews').textContent = (stats.total_views || 0).toLocaleString();
          document.getElementById('previewRevenue').textContent = `â‚¬${(stats.available_balance || 0).toLocaleString()}`;
          document.getElementById('previewStatus').textContent = stats.contract_status || 'Active';
        }
      } catch (error) {
        console.error('Error loading stats:', error);
      }
    }

    // Enhanced Logout Function
    async function logout() {
      try {
        await auth.signOut();
        showNotification('Successfully logged out', 'success');
        setTimeout(() => {
          window.location.href = '/';
        }, 1000);
      } catch (error) {
        showNotification('Error logging out', 'error');
        console.error('Logout error:', error);
      }
    }

    // Enhanced URL Parameter Check
    function checkURLParams() {
      const urlParams = new URLSearchParams(window.location.search);
      const signup = urlParams.get('signup');
      const login = urlParams.get('login');

      if (signup === 'success') {
        showNotification('Account created successfully! You can now login to access your dashboard.', 'success');
      } else if (login === 'success') {
        showNotification('Welcome back! You have successfully logged in.', 'success');
      }
    }

    // Enhanced Smooth Scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Enhanced Initialization
    document.addEventListener('DOMContentLoaded', function() {
      // Listen for auth state changes
      auth.onAuthStateChanged((user) => {
        updateUI();
        
        if (user) {
          showNotification('Welcome back to EVERNET!', 'success');
        }
      });
      
      updateUI();
      checkURLParams();
    });

    // Enhanced Global Error Handler
    window.addEventListener('error', (event) => {
      console.error('Global error:', event.error);
      showNotification('An unexpected error occurred', 'error');
    });
  </script>
</body>
  </html>
